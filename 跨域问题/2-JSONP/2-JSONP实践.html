<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>案例</title>
</head>

<body>
    用户名：
    <input type='text' id='username'>
    <P></P>
    <script>
        //获取input 元素
        const input = document.querySelector('input');

        //获取 p 元素
        const p = document.querySelector('p');

        //声明 handle 函数
        function handle(data) {
            console.log(data);
            //修改input文本框的样式
            input.style.border = 'solid 1px #f00';
            //修改p标签的提示文本
            p.innerHTML = data.msg;
        }

        //绑定失去焦点事件
        input.onblur = function() {
            //获取用户输入框中的输入值
            let username = this.value;

            //向服务器发送请求 ，检测用户名是否存在

            //1：创建 script标签
            const script = document.createElement('script');
            //2：设置script标签的 src 属性
            script.src = 'http://127.0.0.1:8000/check-username';
            //3：将script插入到文档中
            document.body.appendChild(script);
        }
    </script>
</body>

</html>